Number.prototype.toCurrency=function(h,e,g,f){var a,c,j;if(e==null){e="$"}if(g==null){g="."}if(f==null){f=","}a=this.round(h?0:2,true,g);j=a.length-(h?0:3);if((c=j%3)==0){c=3}for(var b=0,d=Math.ceil(j/3)-1;b<d;b++){a=a.insertAt(b*4+c,f)}return e+a};Number.prototype.toInteger=function(f){var e,b,d;if(f==null){f=","}e=this.round(0,true);d=e.length;if((b=d%3)==0){b=3}for(var c=0,a=Math.ceil(d/3)-1;c<a;c++){e=e.insertAt(c*4+b,f)}return e};Number.prototype.round=function(a,g,d){var h,c,f,e,b;if(!a){a=0}c=Math.pow(10,a);h=(this.valueOf()+"");if(!g){return Math.round(h*c)/c}if(!d){d="."}if(h==0){return"0."+((c+"").substr(1))}f=(h=Math.round(h*c)+"").length-a;e=h.substr(0,f);if(a>0){b=h.substr(f);if(b.length<a){b=(Math.pow(10,a-b.length)+"").substr(1)+b}return e+d+b}else{return e+((Math.pow(10,-a)+"").substr(1))}};