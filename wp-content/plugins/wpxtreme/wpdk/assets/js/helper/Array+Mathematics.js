if(Array.prototype.splice&&typeof([0].splice(0))=="number"){Array.prototype.splice=null}if(!Array.prototype.splice){Array.prototype.splice=function(g,e){var a=this.length;var f=arguments.length;if(f==0){return g}if(typeof(g)!="number"){g=0}else{if(g<0){g=Math.max(0,a+g)}}if(g>a){if(f>2){g=a}else{return[]}}if(f<2){e=a-g}e=(typeof(e)=="number")?Math.max(0,e):0;var b=this.slice(g,g+e);var c=this.slice(g+e);a=this.length=g;for(var d=2;d<f;d++){this[a++]=arguments[d]}for(var d=0,h=c.length;d<h;d++){this[a++]=c[d]}return b}}Array.prototype.union=function(a,b){return this.concat(a?a:null).removeDuplicates(b)};Array.prototype.subtract=function(a,d){if(!d){d=null}var b=this.removeDuplicates(d);if(!a){return b}var a=a.removeDuplicates(d);var c=a.length;if(d){for(var f=0;f<b.length;f++){var h=b[f],g=false,h;for(var e=0;e<c&&d(src2=a[e],h)!=1;e++){if(d(h,src2)==0){g=true;break}}if(g){b.splice(f--,1)}}}else{for(var f=0;f<b.length;f++){var h=b[f],g=false,h;for(var e=0;(e<c)&&(h>=(src2=a[e]));e++){if(src2==h){g=true;break}}if(g){b.splice(f--,1)}}}return b};Array.prototype.intersect=function(b,e){if(!e){e=null}var d=this.removeDuplicates(e);if(!b){return d}var b=b.removeDuplicates(e);var f=b.length;if(f<d.length){var k=b;b=d;d=k;k=null;f=b.length}if(e){for(var h=0;h<d.length;h++){var a=d[h],l=false,a;for(var g=0;g<f&&e(src2=b[g],a)!=1;g++){if(e(a,src2)==0){l=true;break}}if(!l){d.splice(h--,1)}}}else{for(var h=0;h<d.length;h++){var a=d[h],l=false,a;for(var g=0;(g<f)&&(a>=(src2=b[g]));g++){if(src2==a){l=true;break}}if(!l){d.splice(h--,1)}}}return d};Array.prototype.removeDuplicates=function(b){if(!b){b=null}var a=this.concat().sort(b);if(b){for(var d=0;d<a.length;d++){var e=a[d];for(var c=d+1;c<a.length&&b(a[c],e)==0;c++){}if(c-1>d){a.splice(d+1,c-d-1)}}}else{for(var d=0;d<a.length;d++){var e=a[d];for(var c=d+1;c<a.length&&a[c]==e;c++){}if(c-1>d){a.splice(d+1,c-d-1)}}}return a};Array.prototype.exclusion=function(a,c){if(!c){c=null}var b=this.removeDuplicates(c);if(!a){return b}return b.subtract(a,c).concat(a.subtract(b,c)).sort(c)};Array.prototype.unsortedUnion=function(a,b){if(!b){b=null}return this.concat(a?a:null).unsortedRemoveDuplicates(b)};Array.prototype.unsortedSubtract=function(b,d){if(!d){d=null}var c=this.unsortedRemoveDuplicates(d);if(!b){return c}var f=b.unsortedRemoveDuplicates(d);if(d){for(var g=0;g<c.length;g++){var h=c[g];for(var e=0,a=f.length;e<a;e++){if(d(f[e],h)==0){c.splice(g--,1);break}}}}else{for(var g=0;g<c.length;g++){var h=c[g];for(var e=0,a=f.length;e<a;e++){if(f[e]==h){c.splice(g--,1);break}}}}return c};Array.prototype.unsortedIntersect=function(a,d){if(!d){d=null}if(!a){return this.unsortedRemoveDuplicates(d)}var b=this;var c=a.length;b=b.unsortedRemoveDuplicates(d);if(d){for(var f=0;f<b.length;f++){var g=b[f];for(var e=0;e<c;e++){if(d(a[e],g)==0){break}}if(e==c){b.splice(f--,1)}}}else{for(var f=0;f<b.length;f++){var g=b[f];for(var e=0;e<c;e++){if(a[e]==g){break}}if(e==c){b.splice(f--,1)}}}return b};Array.prototype.unsortedRemoveDuplicates=function(b){var a=this.concat();if(b){for(var d=0;d<a.length;d++){var e=a[d];for(var c=d+1;c<a.length;c++){if(b(a[c],e)==0){a.splice(c,1)}}}}else{for(var d=0;d<a.length;d++){var e=a[d];for(var c=d+1;c<a.length;c++){if(a[c]==e){a.splice(c--,1)}}}}return a};Array.prototype.unsortedExclusion=function(a,c){if(!c){c=null}var b=this.unsortedRemoveDuplicates(c);if(!a){return b}return b.unsortedSubtract(a,c).concat(a.unsortedSubtract(b,c)).sort(c)};