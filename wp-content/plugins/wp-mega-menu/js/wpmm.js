jQuery(document).ready(function(s){if(s(".menu-item-"+wpmm.css_class+"-megamenu").length){var e=[],a={},m=function(){s.each(a,function(s){clearTimeout(a[s])}),clearTimeout(t)},c=function(a){var m=s.extend({except:""},a);s.each(e,function(s,e){""!==m.except&&e.is(m.except)||e.removeClass(wpmm.css_class+"-visible").addClass(wpmm.css_class+"-hidden")}),s("."+wpmm.css_class+"-megamenu-showing").removeClass(wpmm.css_class+"-megamenu-showing")},n=function(e,a,m){var c=e.data(),n=m||{};c=s.extend(c,n),c.action="get_megamenu",c.type=a,e.addClass(wpmm.css_class+"-loading"),e.load(wpmm.ajaxurl,c,function(){e.removeClass(wpmm.css_class+"-loading")})};s(".menu-item-"+wpmm.css_class+"-taxonomy").each(function(){var n=s(this);if(n.closest(".widget_nav_menu").length)return!0;var t,i=n.find("a").first();wpmm.container_selector&&n.closest(wpmm.container_selector).length?t=i.closest(wpmm.container_selector):(t=n.parent(),t.css({position:"relative",zIndex:"1000",perspective:"1500px"}));var o="menu-item-"+i.data("menu_item")+"-megamenu",l=s('<div id="wpmm-megamenu" class="'+i.data("colorscheme")+" "+wpmm.css_class+"-megamenu-container "+o+" "+wpmm.css_class+'-hidden"></div>').appendTo(t).data(i.data());e.push(l),i.hover(function(){m(),c({except:"."+o}),l.removeClass(wpmm.css_class+"-hidden").addClass(wpmm.css_class+"-visible"),l.data("isloaded")||(l.empty(),s("."+wpmm.css_class+"-preload-megamenu-"+i.data("menu_item")).children().clone(!0).appendTo(l).find("img").each(function(){s(this).attr("src",s(this).data("src"))}),l.data("isloaded",!0)),s("."+wpmm.css_class+"-megamenu-showing").removeClass(wpmm.css_class+"-megamenu-showing"),s(this).parent().addClass(wpmm.css_class+"-megamenu-showing")},function(){var e=s(this);a[i.data("menu_item")]=setTimeout(function(){l.removeClass(wpmm.css_class+"-visible").addClass(wpmm.css_class+"-hidden"),e.parent().removeClass(wpmm.css_class+"-megamenu-showing")},400)})});var t;s("body").on({mouseenter:function(){var e=s(this),a=e.closest("."+wpmm.css_class+"-megamenu-container"),m=e.data("new_object_id");e.hasClass(wpmm.css_class+"-current-subcategory")||(t=setTimeout(function(){n(a,"taxonomy",{new_object_id:m,page:1}),a.data("isloaded",!1),e.addClass(wpmm.css_class+"-current-subcategory").siblings().removeClass(wpmm.css_class+"-current-subcategory")},1e3))},mouseleave:function(){clearTimeout(t)}},"."+wpmm.css_class+"-subcategory"),s("body").on("click","."+wpmm.css_class+"-pagination a",function(e){e.preventDefault();var a=s(this);if(a.hasClass("inactive"))return!1;var m,c,t=a.data("page"),i=a.closest("."+wpmm.css_class+"-megamenu-container");m=i.find("."+wpmm.css_class+"-current-subcategory").length?i.find("."+wpmm.css_class+"-current-subcategory").data("new_object_id"):i.data("object_id"),c=i.find("."+wpmm.css_class+"-subcategories").length&&"both"==i.data("show")?3:4,s(this).closest("#wpmm-megamenu").addClass(wpmm.css_class+"-loading"),n(i,"taxonomy",{page:t,new_object_id:m,posts_per_page:c})}),s.each(e,function(e,a){a.hover(function(){m()},function(){t=setTimeout(function(){a.removeClass(wpmm.css_class+"-visible").addClass(wpmm.css_class+"-hidden"),s("."+wpmm.css_class+"-megamenu-showing").removeClass(wpmm.css_class+"-megamenu-showing")},400)})}),s(".menu-item-has-children").mouseenter(function(){c()})}});